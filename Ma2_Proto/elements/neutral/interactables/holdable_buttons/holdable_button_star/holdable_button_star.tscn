[gd_scene load_steps=17 format=3 uid="uid://c2ffbg50wksja"]

[ext_resource type="Script" uid="uid://cc483b7cxu0ba" path="res://elements/levels/lvl_hub/hub_elements/hub_buttons/hub_holdable_button_star.gd" id="1_qeks2"]
[ext_resource type="WwiseEvent" uid="uid://ca0jll5vh3qn" path="res://Wwise/resources/Event/{84896D65-8DB3-49E4-9ADF-5ECCB40BA533}.tres" id="3_8rdgc"]
[ext_resource type="WwiseEvent" uid="uid://c5ausye44wl0" path="res://Wwise/resources/Event/{BFDEDA07-587D-4063-B14A-3576E5D0AB1B}.tres" id="3_iytop"]
[ext_resource type="Material" uid="uid://xl61rh4tdlqi" path="res://elements/neutral/interactables/holdable_buttons/holdable_button_star/material/m_btn_star_base.tres" id="3_to82u"]
[ext_resource type="PackedScene" uid="uid://b3x6hxaicw8yt" path="res://elements/vfx/vfx_screen_flash/vfx_screen_flash.tscn" id="3_xee4w"]
[ext_resource type="WwiseEvent" uid="uid://covnkj8eim0g1" path="res://Wwise/resources/Event/{B4199BE6-29B8-4E6F-B05C-0025FBC4AD50}.tres" id="4_8rdgc"]
[ext_resource type="Script" uid="uid://cw4qh8hx2nyh0" path="res://systems/pressable/holdable_button_graphic.gd" id="4_oquey"]
[ext_resource type="Material" uid="uid://dd2amys1ebjp7" path="res://elements/neutral/interactables/holdable_buttons/holdable_button_star/material/m_btn_star_emissive.tres" id="5_4bshy"]
[ext_resource type="PackedScene" uid="uid://c46pdd6xoj4vc" path="res://elements/neutral/interactables/holdable_buttons/holdable_button_star/mesh/mesh_btn_star.tscn" id="5_7auvx"]
[ext_resource type="Texture2D" uid="uid://cm5belis6bq0x" path="res://elements/icons/icon_star.png" id="5_gmma2"]
[ext_resource type="PackedScene" uid="uid://brxg5f374xr1a" path="res://elements/powerups/button/holdable_charging_feedback.tscn" id="6_jodpi"]
[ext_resource type="Script" uid="uid://cr5xxhd04vkgu" path="res://addons/gap/api/accessibility_high_contrast_object.gd" id="9_pmqfq"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_xq0xn"]
height = 0.5
radius = 1.07393

[sub_resource type="Animation" id="Animation_j3c8m"]
length = 0.001

[sub_resource type="Animation" id="Animation_c1xeu"]
resource_name = "idle"
loop_mode = 1

[sub_resource type="AnimationLibrary" id="AnimationLibrary_o8034"]
_data = {
&"RESET": SubResource("Animation_j3c8m"),
&"idle": SubResource("Animation_c1xeu")
}

[node name="HoldableButtonStar" type="Node3D" node_paths=PackedStringArray("button_pressed_feedback", "button_graphic")]
script = ExtResource("1_qeks2")
_material_to_set_color = ExtResource("5_4bshy")
_vfx_on_complete = ExtResource("3_xee4w")
_sfx_upgrade_complete = ExtResource("3_8rdgc")
hold_finished_mode = 2
button_pressed_feedback = NodePath("button_pressed_feedback")
button_graphic = NodePath("Area3D/visuals/button_graphic")
_sfx_pressed = ExtResource("3_iytop")
_sfx_released = ExtResource("4_8rdgc")

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 32
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2502, 0)
shape = SubResource("CylinderShape3D_xq0xn")

[node name="visuals" type="Node3D" parent="Area3D"]
transform = Transform3D(1.3, 0, 0, 0, 0.8, 0, 0, 0, 1.3, 0, 0, 0)

[node name="btn_star2" parent="Area3D/visuals" instance=ExtResource("5_7auvx")]
transform = Transform3D(1.2, 0, 0, 0, 0.2, 0, 0, 0, 1.2, 0, 0, 0)

[node name="hold_button_star" parent="Area3D/visuals/btn_star2/altar_btn_star" index="0"]
surface_material_override/0 = ExtResource("3_to82u")

[node name="AccessibilityHighContrastObject" type="Node" parent="Area3D/visuals/btn_star2/altar_btn_star" index="1"]
script = ExtResource("9_pmqfq")
high_contrast_group = &"interactable"
metadata/_custom_type_script = "uid://cr5xxhd04vkgu"

[node name="button_graphic" type="Node3D" parent="Area3D/visuals" node_paths=PackedStringArray("_button_parent", "_mesh_container", "_icon_sprite")]
script = ExtResource("4_oquey")
_button_parent = NodePath("button_parent")
_mesh_container = NodePath("button_parent/btn_star")
_icon_sprite = NodePath("button_parent/Sprite3D")

[node name="button_parent" type="Node3D" parent="Area3D/visuals/button_graphic"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.272535, 0)

[node name="Sprite3D" type="Sprite3D" parent="Area3D/visuals/button_graphic/button_parent"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.000555828, 1.18796, 0)
pixel_size = 0.006
texture = ExtResource("5_gmma2")

[node name="btn_star" parent="Area3D/visuals/button_graphic/button_parent" instance=ExtResource("5_7auvx")]

[node name="button_pressed_feedback" parent="." instance=ExtResource("6_jodpi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_o8034")
}
autoplay = "idle"

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="body_exited" from="Area3D" to="." method="_on_area_3d_body_exited"]

[editable path="Area3D/visuals/btn_star2"]
[editable path="Area3D/visuals/btn_star2/altar_btn_star"]
